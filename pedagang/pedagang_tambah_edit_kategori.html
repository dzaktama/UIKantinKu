<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title-tag">Tambah Menu - KantinKu</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
    <style>
        .button.danger-outline {
            background-color: #fff;
            color: var(--danger);
            border: 1.5px solid var(--danger);
        }
    </style>
</head>
<body>

    <div class="mobile-screen">
        <div class="header">
            <a href="pedagang_tab_kelola_menu.html" class="back-button">&lt;</a>
            <span id="page-title">Tambah Menu Baru</span>
        </div>
        
        <div class="content" style="background-color: white;">
            <div class="form-container">
                <div class="form-group">
                    <label for="nama_menu">Nama Menu</label>
                    <input type="text" id="nama_menu" class="form-input" placeholder="cth: Nasi Goreng Spesial">
                </div>
                
                <div class="form-group">
                    <label for="harga_menu">Harga</label>
                    <input type="number" id="harga_menu" class="form-input" placeholder="cth: 15000">
                </div>
                <div class="form-group">
                    <label for="deskripsi_menu">Deskripsi Singkat</label>
                    <textarea id="deskripsi_menu" class="form-input" rows="4" style="height: auto;" placeholder="cth: Nasi goreng dengan telur..."></textarea>
                </div>
                <div class="form-group">
                    <label for="foto_menu">Foto Menu</label>
                    <input type="file" id="foto_menu" class="form-input">
                </div>
                
                <a href="pedagang_tab_kelola_menu.html" class="button" style="margin-top: 24px;" id="btn-save">Simpan Menu</a>
                
                <a href="pedagang_tab_kelola_menu.html" id="btn-delete" class="button danger-outline" style="margin-top: 12px; display: none;" onclick="alert('Menu Dihapus!')">
                    Hapus Menu
                </a>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const mode = params.get('mode');

            if (mode === 'edit') {
                // MODIFIKASI: Data simulasi diperbarui
                const mockData = {
                    '1': { nama: 'Nasi Rames Ayam', harga: 12000, desk: 'Nasi rames disajikan dengan ayam goreng, orek tempe, tumis buncis, dan sambal.' },
                    '2': { nama: 'Nasi Soto Ayam', harga: 10000, desk: 'Soto ayam kuah kuning bening...' },
                    '3': { nama: 'Mie Ayam Bakso', harga: 15000, desk: 'Mie ayam dengan topping bakso sapi.' },
                    '4': { nama: 'Es Teh Manis', harga: 3000, desk: 'Teh manis disajikan dingin dengan es batu.' },
                    '5': { nama: 'Jus Alpukat', harga: 8000, desk: 'Jus alpukat segar dengan susu kental manis.' }
                };
                
                const itemId = params.get('id');
                const data = mockData[itemId] || { nama: 'Menu Error', harga: 0, desk: '' };

                // 1. Ubah Judul
                document.getElementById('page-title-tag').innerText = 'Edit Menu - KantinKu';
                document.getElementById('page-title').innerText = 'Edit Menu';
                
                // 2. Isi Form dengan Data
                document.getElementById('nama_menu').value = data.nama;
                document.getElementById('harga_menu').value = data.harga;
                document.getElementById('deskripsi_menu').innerText = data.desk;

                // 3. Ubah Tombol Simpan
                document.getElementById('btn-save').innerText = 'Simpan Perubahan';
                
                // 4. Tampilkan Tombol Hapus
                document.getElementById('btn-delete').style.display = 'block';
            }
        };
    </script>
</body>
</html>