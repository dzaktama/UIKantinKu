<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesanan Saya - KantinKu</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>

    <style>
        /* MODIFIKASI v8:
            Animasi slide-in
        */
        .content { 
            padding-top: 16px; 
            padding-bottom: 16px; 
            animation: slideInFromRight 0.4s ease-out forwards;
        }
        @keyframes slideInFromRight {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* v7: Style Tab Aktif (Estimasi Card) */
        #aktif .unified-order-card { margin-bottom: 0; }
        #aktif .unified-header { padding: 12px 20px; }
        #aktif .unified-header .info h4 { font-size: 17px; }
        #aktif .unified-header .info p { font-size: 13px; }
        #aktif .unified-body { padding: 18px 20px; }
        #aktif .estimasi-block {
            background-color: var(--bg-light); 
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            margin-bottom: 24px;
        }
        #aktif .estimasi-block h2 {
            font-size: 32px; 
            text-align: center;
        }
        
        /* v6: Tracker rata kiri */
        #aktif .rich-tracker { padding-left: 0; }
        #aktif .rich-tracker li {
            padding-left: 35px; 
            padding-bottom: 30px;
            font-size: 14px; 
        }
         #aktif .rich-tracker li::before { left: 0px; }
        #aktif .rich-tracker li::after { left: 9px; }
        #aktif .rich-tracker li strong { font-weight: 700; }
        #aktif .rich-tracker li span { font-size: 12px; margin-top: 2px; }
        #aktif .unified-footer { padding: 16px 20px; }
        #aktif .unified-footer p { font-size: 12px; }
        #aktif .unified-footer .help-button { font-size: 14px; padding: 8px 12px; }

        /* MODIFIKASI CSS BARU (v9): 
            Desain ulang total kartu riwayat (Professional)
        */
        #riwayat.content-block {
            background-color: #fff; /* Latar putih bersih */
            padding: 0;
            margin: -16px -20px -16px -20px; /* Full-width */
        }
        .history-card-pro {
            background: #fff;
            border-bottom: 1px solid var(--border-color);
            padding: 16px 20px;
        }
        /* Header: Nama Kantin & Chevron (Klikabel) */
        .history-card-pro .header-link {
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-decoration: none;
            color: var(--dark-text);
        }
        .history-card-pro .header-link h4 {
            font-size: 16px;
            font-weight: 700;
        }
        .history-card-pro .header-link .chevron {
            font-size: 14px;
            color: var(--light-text);
        }
        
        /* Body: Gambar, Item, Harga (Klikabel) */
        .history-card-body-link {
            display: flex;
            padding: 16px 0;
            gap: 12px;
            text-decoration: none;
            color: var(--dark-text);
        }
        .history-card-body-link .img-placeholder {
            width: 70px;
            height: 70px;
            border-radius: 8px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
            flex-shrink: 0;
        }
        .history-card-body-link .info {
            flex-grow: 1;
            min-width: 0;
        }
        .history-card-body-link .info .items {
            font-size: 15px;
            font-weight: 600;
            color: var(--dark-text);
            margin: 0 0 4px 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .history-card-body-link .info .date {
            font-size: 13px;
            color: var(--light-text);
            font-weight: 500;
            margin: 0 0 8px 0;
        }
        .history-card-body-link .info .total {
            font-size: 14px;
            color: var(--dark-text);
            font-weight: 700;
            margin: 0;
        }
        
        /* Footer: Rating & Tombol Aksi */
        .history-card-pro .footer-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px dashed var(--border-color);
        }
        .history-card-pro .rating-link {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-color);
            text-decoration: none;
        }
        .history-card-pro .rating-link.rated {
            color: var(--warning);
        }
        .history-card-pro .button {
            width: auto;
            padding: 10px 16px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <div class="mobile-screen">
        <div class="header" style="text-align: left;">
            Pesanan Saya
        </div>
        
        <div class="tab-container">
            <a href="javascript:void(0)" class="tab-item active" onclick="showTab(event, 'aktif')" id="tab-aktif">Pesanan Aktif</a>
            <a href="javascript:void(0)" class="tab-item" onclick="showTab(event, 'riwayat')" id="tab-riwayat">Riwayat</a>
        </div>
        
        <div class="content">
            
            <div id="aktif" class="content-block">
                <div class="unified-order-card">
                    <div class="unified-header"><div class="info"><h4>Kantin Bu Martin</h4><p>Lihat detail pesanan</p></div><a class="toggle-detail" onclick="toggleDetails(this)">Lihat</a></div>
                    <div id="orderDetails" class="hidden"><div class="order-item-list"><div class="order-item-row"><div class="item-name"><span class="item-qty">1x</span><h5>Nasi Rames Ayam</h5></div><span class="item-price">Rp 12.000</span></div><div class="order-item-row"><div class="item-name"><span class="item-qty">1x</span><h5>Es Teh Manis</h5></div><span class="item-price">Rp 3.000</span></div></div><div class="order-summary-block"><div class="summary-row"><span>Subtotal</span><span>Rp 15.000</span></div><div class="summary-row"><span>Biaya Layanan</span><span>Rp 1.000</span></div><div class="summary-total"><span>Total</span><span>Rp 16.000</span></div></div></div>
                    <div class="unified-body"><div class="estimasi-block"><p>Estimasi Siap Diambil</p><h2>10:30</h2></div><ol class="rich-tracker"><li class="completed"><strong>Pesanan Dikonfirmasi</strong><span>10:15 - Kantin Bu Martin</span></li><li class="active"><strong>Pesanan Dimasak</strong><span>Pedagang sedang menyiapkan pesananmu.</span></li><li><strong>Siap Diambil</strong><span>Silakan ambil di Kantin Bu Martin.</span></li></ol></div>
                    <div class="unified-footer"><p>ID Pesanan: #12345ABC</p><a href="#" class="help-button">Butuh Bantuan?</a></div>
                </div>
            </div>
            
            <div id="riwayat" class="content-block hidden">
                
                <div class="history-card-pro">
                    <a href="pelanggan_detail_riwayat.html" class="header-link">
                        <h4>Kantin Dzaky</h4>
                        <i class="fas fa-chevron-right chevron"></i>
                    </a>
                    <a href="pelanggan_detail_riwayat.html" class="history-card-body-link">
                        <div class="img-placeholder" style="background-image: url('https://images.unsplash.com/photo-1626725350516-1896020755b4?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80');"></div>
                        <div class="info">
                            <p class="items">1x Mie Ayam Bakso</p>
                            <p class="date">07 Nov 2025, 10:35</p>
                            <p class="total">Total: Rp 15.000</p>
                        </div>
                    </a>
                    <div class="footer-actions">
                        <a href="pelanggan_beri_rating.html" class="rating-link">
                            Beri Ulasan ⭐
                        </a>
                        <a href="pelanggan_detail_warung.html" class="button">Pesan Lagi</a>
                    </div>
                </div>
                
                <div class="history-card-pro">
                    <a href="pelanggan_detail_riwayat.html" class="header-link">
                        <h4>Kantin Bu Martin</h4>
                        <i class="fas fa-chevron-right chevron"></i>
                    </a>
                    <a href="pelanggan_detail_riwayat.html" class="history-card-body-link">
                        <div class="img-placeholder" style="background-image: url('https://images.unsplash.com/photo-1587814213271-72900b21855c?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80');"></div>
                        <div class="info">
                            <p class="items">1x Nasi Rames Ayam, 1x Es Teh Manis</p>
                            <p class="date">06 Nov 2025, 12:05</p>
                            <p class="total">Total: Rp 16.000</p>
                        </div>
                    </a>
                    <div class="footer-actions">
                        <a href="#" class="rating-link rated">
                            Ulasan Anda: ⭐ 5
                        </a>
                        <a href="pelanggan_detail_warung.html" class="button">Pesan Lagi</a>
                    </div>
                </div>
                
                <div class="history-card-pro">
                    <a href="pelanggan_detail_riwayat.html" class="header-link">
                        <h4>Kantin Ardan</h4>
                        <i class="fas fa-chevron-right chevron"></i>
                    </a>
                    <a href="pelanggan_detail_riwayat.html" class="history-card-body-link">
                        <div class="img-placeholder" style="background-image: url('https://images.unsplash.com/photo-1541818167732-233158f64c6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80');"></div>
                        <div class="info">
                            <p class="items">1x Jus Alpukat</p>
                            <p class="date">05 Nov 2025, 14:30</p>
                            <p class="total">Total: Rp 8.000</p>
                        </div>
                    </a>
                    <div class="footer-actions">
                        <a href="pelanggan_beri_rating.html" class="rating-link">
                            Beri Ulasan ⭐
                        </a>
                        <a href="pelanggan_detail_warung.html" class="button">Pesan Lagi</a>
                    </div>
                </div>

            </div>
        </div>
        
        <div class="navbar">
            <a href="pelanggan_halaman_utama.html" class="nav-item">
                <div class="icon"><i class="fas fa-home"></i></div>
                <div>Home</div>
            </a>
            <a href="pelanggan_tab_pesanan.html" class="nav-item active">
                <div class="icon"><i class="fas fa-receipt"></i></div>
                <div>Pesanan</div>
            </a>
            <a href="pelanggan_tab_profil.html" class="nav-item">
                <div class="icon"><i class="fas fa-user"></i></div>
                <div>Profil</div>
            </a>
        </div>
    </div>

    <script>
        function showTab(event, tabId) {
            var contentBlocks = document.querySelectorAll('.content-block');
            contentBlocks.forEach(function(block) {
                block.classList.add('hidden');
            });
            var tabItems = document.querySelectorAll('.tab-item');
            tabItems.forEach(function(tab) {
                tab.classList.remove('active');
            });
            document.getElementById(tabId).classList.remove('hidden');
            if (event) {
                event.currentTarget.classList.add('active');
            } else {
                document.getElementById('tab-' + tabId).classList.add('active');
            }
        }
        function toggleDetails(button) {
            var details = document.getElementById('orderDetails');
            if (details.classList.contains('hidden')) {
                details.classList.remove('hidden');
                button.textContent = 'Tutup';
            } else {
                details.classList.add('hidden');
                button.textContent = 'Lihat';
            }
        }
        window.onload = function() {
            if (window.location.hash === '#riwayat') {
                showTab(null, 'riwayat');
            }
        };
    </script>
</body>
</html>